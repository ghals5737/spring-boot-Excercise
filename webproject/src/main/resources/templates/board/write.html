<!DOCTYPE html>
<html lang="ko" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>KUBG</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
  
    <title>Simple Sidebar - Start Bootstrap Template</title>
  
    <!-- Bootstrap core CSS -->
    <link href="/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  
    <!-- Custom styles for this template -->
    <link href="/css/simple-sidebar.css" rel="stylesheet">
      
  <!-- Bootstrap core JavaScript -->
  <script src="/vendor/jquery/jquery.min.js"></script>
  <script src="/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="/ckeditor/ckeditor.js"></script>
</head>
<body>
    <div class="d-flex" id="wrapper">

        <!-- Sidebar -->
        <div th:include="fragments/aside :: commonAside"></div>
        <!-- /#sidebar-wrapper -->
    
        <!-- Page Content -->
        <div id="page-content-wrapper">
    
          <div th:include="fragments/nav :: commonNav"></div>
    
          <div class="container-fluid" style="margin-top: 30px;">
           
            <form role="form" method="post" autocomplete="off" enctype="multipart/form-data">
                <input type="hidden" name="writer" th:value="${session.user.userName}">
                <div class="form-inline" >                       
                        <select class="form-control col-md-1" id="category1" name="cateCode">
                                <option value="">전체</option>                                
                         </select>                       
                        <input type="text" name="title" class="form-control col-md-10" id="exampleInputName2" placeholder="제목" style="margin-left: 20px;">                        
                </div>
                <div class="inputArea" style="margin-top: 20px;">                       
                        <textarea rows="20" cols="100" id="content" name="content"></textarea>                        
                </div>
                <div class="form-group" style="margin-top: 10px;">                        
                        <button type="submit" class="btn btn-primary">글쓰기</button>                        
                        <button type="button" class="btn btn-danger">취소</button>
                </div>  
            </form>
          </div>

        </div>
        <!-- /#page-content-wrapper -->
    
      </div>
      <!-- /#wrapper -->
    
      <!-- Menu Toggle Script -->
      <script>
        $("#menu-toggle").click(function(e) {
          e.preventDefault();
          $("#wrapper").toggleClass("toggled");
        });
      </script>
      <script>
            var ckeditor_config = {
              resize_enaleb : false,
              enterMode : CKEDITOR.ENTER_BR,
              shiftEnterMode : CKEDITOR.ENTER_P,
              filebrowserUploadUrl : "/board/ckUpload"
            };
            
            CKEDITOR.replace("content", ckeditor_config);
        </script>
        <script th:inline="javascript" type="text/javascript">
           let result = /*[[${category}]]*/"";     
            console.log(result);        
            let cate1Select=$('#category1');
            result.forEach(el => {               
                    cate1Select.append("<option value='" + el.cateCode + "'>"
                                        + el.cateName + "</option>");
            });
        </script>
    </div>
</body>
</html>